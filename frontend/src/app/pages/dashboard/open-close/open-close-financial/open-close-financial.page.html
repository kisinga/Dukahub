<div class="container mx-auto px-4 py-6">
    <h2 class="text-2xl font-bold mb-6">{{header}}</h2>
    @if (false) {
    <div class="flex justify-center items-center min-h-[200px]">
        <span class="loading loading-spinner loading-lg text-primary"></span>
    </div>
    } @else {
    <div class="card bg-base-100 shadow-lg overflow-hidden">
        <div class="overflow-x-auto">
            <table class="table table-zebra w-full">
                <thead>
                    <tr>
                        <th class="bg-base-200 text-base-content">Account</th>
                        <th class="bg-base-200 text-base-content">Amount</th>
                    </tr>
                </thead>
                <tbody>
                    @for (row of paginatedData; track row.account) {
                    <tr
                        class="hover:bg-base-200 transition-colors duration-200"
                    >
                        <td class="p-4">
                            <div class="flex items-center gap-3">
                                <div class="avatar">
                                    <div class="mask mask-squircle w-12 h-12">
                                        <img
                                            [src]="row.iconURL"
                                            [alt]="row.relatedMergedAccountWithType.accountType.name"
                                            class="object-cover"
                                        />
                                    </div>
                                </div>
                                <div>
                                    <div class="font-bold">
                                        {{
                                        row.relatedMergedAccountWithType.accountType.name
                                        | truncate:15:true }}
                                    </div>
                                    <div class="text-sm opacity-70">
                                        {{
                                        row.relatedMergedAccountWithType.account_number
                                        | truncate:15:true }}
                                    </div>
                                </div>
                            </div>
                        </td>
                        <td class="p-4">
                            <custom-input
                                label="Amount"
                                [control]="formControl"
                                [id]="'amount-' + row.account"
                            ></custom-input>
                        </td>
                    </tr>
                    }
                </tbody>
            </table>
        </div>
        <div class="card-body bg-base-200 border-t border-base-300">
            <div
                class="flex flex-col sm:flex-row justify-between items-center gap-4"
            >
                <div class="join">
                    @for (page of getPages(); track page) {
                    <button
                        class="join-item btn btn-sm"
                        [class.btn-active]="currentPage === page"
                        (click)="setPage(page)"
                    >
                        {{ page }}
                    </button>
                    }
                </div>
                <button
                    class="btn btn-primary w-full sm:w-auto"
                    (click)="onSave()"
                >
                    NEXT
                </button>
            </div>
        </div>
    </div>
    }
</div>
